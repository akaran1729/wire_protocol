
syntax = "proto3";

package bidirectional;

service Bidirectional {
   rpc ServerSend(Text) returns (Res) {}
   rpc ChangeAccountState(Account) returns (Res) {}
   rpc ClientStream(Account) returns (stream Text) {}
}

message Text {
  string sender = 1; 
  string receiver = 2; 
  string message = 3;
}

message Account { 
  int32 type = 1; 
  string username = 2; 
  string connection = 3;  
}

message Res { 
  int32 status = 1;
}

message Void {}